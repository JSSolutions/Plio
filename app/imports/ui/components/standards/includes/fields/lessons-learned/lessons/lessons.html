<template name="ESLessons">
  <div class="card">
    <div class="card-block card-block-collapse-toggle"  aria-expanded="false"
      {{b "click: toggleCollapse, class: { collapsed: collapsed }"}}>
      <strong {{b "text: renderSerialNumber"}}></strong>
      <span {{b "text: title"}}></span>
    </div>
    <div class="card-block-collapse collapse" {{b "ref: collapse"}}>
      <div class="card-block">
        {{#FormField label="Title"}}
          <input type="text" class="form-control" placeholder="Title"
              {{b "value: title, focusout: updateTitle"}} />
          {{> ClearField field="title"}}
        {{/FormField}}
        {{#FormField label="Linked to"}}
          <input type="text" class="form-control" disabled="" {{b "value: linkedStandard"}}>
        {{/FormField}}

        {{#FormField label="Created date"}}
          {{> Datepicker placeholder="Created date" date=getDate onChange=onDateChangeCb}}
        {{/FormField}}

        {{> ESOwner
            selectedOwnerId=owner
            label="Created by"
            showCurrentUser=true
            onChange=onOwnerChangedCb
            isEditable=true}}
      </div>
      {{#QuillEditor}}
        {{#if _id}}
          <div {{b "html: notes, focusout: updateNotes"}}></div>
        {{else}}
          <div></div>
        {{/if}}
      {{/QuillEditor}}
      <div class="card-block clearfix">
        <button type="button" class="btn btn-secondary pull-xs-left" {{b "click: delete"}}>
          Delete
        </button>
        <button type="button" class="btn btn-secondary pull-xs-right"
            {{b "click: close, class: {disabled: isSaving}"}}>
          {{#if isSaving}}
            <i class="fa fa-spinner fa-pulse fa-fw margin-bottom">
            </i>
          {{/if}}
          {{#if isSaving}} Saving... {{else}} Close {{/if}}
        </button>
      </div>
    </div>
  </div>
</template>
