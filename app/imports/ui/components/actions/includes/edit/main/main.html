<template name="Actions_Edit_Main">
  <div class="card-block">
    {{#with action}}
      {{> Actions_Title title=this.title subcard=subcard}}

      {{> Actions_LinkedTo linkedDocs=this.linkedDocuments isEditable=isLinkedToEditable}}

      {{> Actions_Status status=this.status}}

      {{> Actions_Owner ownerId=this.ownerId}}

      {{> Actions_PlanInPlace planInPlace=this.planInPlace}}

      <hr />

      {{> Actions_CompletionTargetDate
          completionTargetDate=this.completionTargetDate
          enabled=isCompletionEditable}}

      {{#unless this.isCompleted}}

        {{> Actions_ToBeCompletedBy
            toBeCompletedBy=this.toBeCompletedBy
            onComplete=onComplete}}

      {{else}}

        {{> Actions_CompletedOn
            completedAt=this.completedAt
            enabled=isCompletionEditable}}

        {{> Actions_CompletedBy
            completedBy=this.completedBy
            completedAt=this.completedAt
            enabled=isCompletionEditable
            onUndo=onUndoCompletion}}

        {{> Actions_CompletionResult
            completionResult=this.completionResult
            enabled=isCompletionEditable
            subcard=subcard}}

        <hr />

        {{> Actions_VerificationTargetDate
            verificationTargetDate=this.verificationTargetDate}}

        {{#unless isVerified}}

          {{> Actions_ToBeVerifiedBy
              toBeVerifiedBy=this.toBeVerifiedBy
              onVerify=onVerify}}

        {{else}}

          {{> Actions_VerifiedOn verifiedAt=this.verifiedAt}}

          {{> Actions_VerifiedBy
              verifiedBy=this.verifiedBy
              verifiedAt=this.verifiedAt
              onUndo=onUndoVerification}}

          {{> Actions_VerificationResult
              verificationResult=this.verificationResult
              subcard=subcard}}

        {{/unless}}

      {{/unless}}
    {{/with}}
  </div>
</template>
