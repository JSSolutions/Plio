<template name="RCA_Analysis_Edit">
  <div class="card-block">
    {{#with analysis}}
      {{#FormField label=label}}{{/FormField}}

      {{> RCA_ToBeCompletedBy_Edit
          by=this.executor
          placeholder="Who will do it?"
          label="Who will do it?"
          onUpdate=onUpdateAnalysisExecutor}}

      {{> RCA_TargetDate_Edit
          date=this.targetDate
          onUpdate=onTargetDateUpdate}}

      {{> RCA_Status_Edit
          status=this.status
          executor=this.executor
          completionComments=this.completionComments
          isCompleteButtonShown=($not this.status)
          onComplete=onAnalysisCompleted
          onUndo=onAnalysisUndone
          onCommentsUpdate=onCommentsUpdate}}

      {{#if isAnalysisCompleted}}
        {{> RCA_TargetDate_Edit
            date=this.completedAt
            key="analysis.completedAt"
            placeholder="Completed date"
            label="Completed date"}}

        {{> RCA_ToBeCompletedBy_Edit
            by=this.completedBy
            key="analysis.completedBy"
            placeholder="Completed by"
            label="Completed by"}}
      {{/if}}
    {{/with}}
  </div>
</template>
